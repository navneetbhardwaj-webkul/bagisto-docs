---
outline: false
examples:
  - id: place-order
    title: Place Order
    description: Create an order from a cart.
    query: |
      mutation placeOrder($input: PlaceOrderInput!) {
        placeOrder(input: $input) {
          order {
            id
            incrementId
            grandTotal
            status
            createdAt
          }
          message
          success
        }
      }
    variables: |
      {
        "input": {
          "cartId": "cart-123"
        }
      }
    response: |
      {
        "data": {
          "placeOrder": {
            "order": {
              "id": "1",
              "incrementId": "100000001",
              "grandTotal": 299.99,
              "status": "pending",
              "createdAt": "2024-01-15T14:30:00Z"
            },
            "message": "Order placed successfully",
            "success": true
          }
        }
      }
---

# Place Order

Create an order from a cart and complete the checkout process.

## Authentication

 This query requires a valid customer authentication token in the `Authorization` header. Use the [Customer Login API](/api/graphql/shop/mutations/customer-login) to retrieve the token. If the customer is a guest, use the guest cart token generated by the [Create Guest Cart](/api/graphql/shop/mutations/create-guest-cart) mutation.

```
Authorization: Bearer <accessToken>
```

## Arguments

| Name | Type | Required | Description |
|------|------|----------|-------------|
| `cartId` | String | ✅ Yes | Cart ID to convert to order |

## Response

| Field | Type | Description |
|-------|------|-------------|
| `order` | Order | Created order object |
| `message` | String | Success or error message |
| `success` | Boolean | Order creation success status |

## Order Response Fields

| Field | Type | Description |
|-------|------|-------------|
| `id` | String | Order ID |
| `incrementId` | String | Order increment ID (display number) |
| `grandTotal` | Float | Final order total |
| `status` | String | Order status |
| `createdAt` | DateTime | Order creation timestamp |

## Prerequisites

All of these must be completed before placing an order:
1. ✅ Cart must contain items
2. ✅ Shipping address must be set
3. ✅ Billing address must be set
4. ✅ Shipping method must be selected
5. ✅ Payment method must be selected
6. ✅ Valid coupon (if applicable)

## Validation Rules

- Cart must have at least one item
- All checkout steps must be completed
- Billing and shipping addresses are required
- Shipping and payment methods must be selected
- Stock must be available for all items
- Inventory must not be exceeded

## Error Responses

```json
{
  "errors": {
    "cartId": ["Cart not found or is empty."],
    "checkout": ["Shipping address is required."],
    "inventory": ["Insufficient stock for product XYZ."],
    "payment": ["Payment processing failed."]
  }
}
```

## Order Status Values

| Status | Description |
|--------|-------------|
| `pending` | Order created, awaiting payment |
| `processing` | Payment confirmed, preparing shipment |
| `shipped` | Order has been shipped |
| `delivered` | Order delivered |
| `cancelled` | Order cancelled |
| `refunded` | Order refunded |

## After Order Placement

1. Cart is cleared
2. Order confirmation email is sent
3. Inventory is updated
4. Customer can track order using order ID

## Related Documentation

- [Create Cart](/api/graphql/shop/mutations/create-cart)
- [Set Shipping Address](/api/graphql/shop/mutations/set-shipping-address)
- [Set Payment Method](/api/graphql/shop/mutations/set-payment-method)
- [Get Customer Orders](/api/graphql/shop/queries/get-customer-orders)
