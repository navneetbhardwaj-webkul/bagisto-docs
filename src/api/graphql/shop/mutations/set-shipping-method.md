---
outline: false
examples:
  - id: set-shipping-method
    title: Set Shipping Method
    description: Set the shipping method for a cart.
    query: |
      mutation setShippingMethod($input: SetShippingMethodInput!) {
        setShippingMethod(input: $input) {
          cart {
            id
            shippingMethod
            shippingTitle
            shippingDescription
            shippingPrice
          }
          message
          success
        }
      }
    variables: |
      {
        "input": {
          "cartId": "cart-123",
          "shippingMethodCode": "flatrate_flatrate"
        }
      }
    response: |
      {
        "data": {
          "setShippingMethod": {
            "cart": {
              "id": "cart-123",
              "shippingMethod": "flatrate_flatrate",
              "shippingTitle": "Flat Rate",
              "shippingDescription": "Fixed shipping cost",
              "shippingPrice": 10.00
            },
            "message": "Shipping method set successfully",
            "success": true
          }
        }
      }
---

# Set Shipping Method

Set the shipping method for a cart.

## Authentication


 This query requires a valid customer authentication token in the `Authorization` header. Use the [Customer Login API](/api/graphql/shop/mutations/customer-login) to retrieve the token. If the customer is a guest, use the guest cart token generated by the [Create Guest Cart](/api/graphql/shop/mutations/create-guest-cart) mutation.


```
Authorization: Bearer <accessToken>
```

## Arguments

| Name | Type | Required | Description |
|------|------|----------|-------------|
| `cartId` | String | ✅ Yes | Cart ID |
| `shippingMethodCode` | String | ✅ Yes | Shipping method code (e.g., flatrate_flatrate) |

## Response

| Field | Type | Description |
|-------|------|-------------|
| `cart` | Cart | Updated cart with shipping method |
| `message` | String | Success or error message |
| `success` | Boolean | Success status |

## Common Shipping Method Codes

| Code | Description |
|------|-------------|
| `flatrate_flatrate` | Flat Rate - Fixed shipping cost |
| `table_rates` | Table Rates - Dynamic rates |
| `free_shipping` | Free Shipping |

## Prerequisites

- Shipping address must be set before this mutation
- Available shipping methods depend on:
  - Cart items
  - Shipping address country/region
  - Store configuration

## Validation Rules

- Shipping method code must be valid and available
- Shipping address must be set
- Cart must have items

## Error Responses

```json
{
  "errors": {
    "cartId": ["Cart not found."],
    "shippingMethodCode": ["Invalid or unavailable shipping method."],
    "shippingAddress": ["Shipping address must be set first."]
  }
}
```

## Related Documentation

- [Get Shipping Methods](/api/graphql/shop/queries/get-shipping-methods)
- [Set Shipping Address](/api/graphql/shop/mutations/set-shipping-address)
- [Set Payment Method](/api/graphql/shop/mutations/set-payment-method)
